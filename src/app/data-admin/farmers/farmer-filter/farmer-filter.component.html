<ion-header>
  <ion-toolbar>
    <ion-title>Farmer List Filter</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="searchFilterForm">

    <ion-grid>
      <ion-row class="ion-justify-content-center">
        <ion-col size="10">

          <ion-row>
            <ion-item-divider>
              <ion-col size-lg="8">
                <ion-label>Location Filter:</ion-label>
              </ion-col>
              <ion-col>
                <ion-button color="default" fill="outline" (click)="clearLocation()" type="button" style="width: 95%">
                  Clear Location</ion-button>
              </ion-col>
            </ion-item-divider>
          </ion-row>
          <app-rcm-form-location #rcmLocationForm
            [useUserAddress]="true"
            [address]="locationAddress"
            [useAuthorization]="true"
            [isFarmerForm]="false"
            [formGroup]="searchFilterForm" (onLocationChange)="onPhLocationChange($event)">
          </app-rcm-form-location>

          <ion-list>
            <ion-row>
              <ion-item-divider>
                <ion-col size-lg="8">
                  <ion-label>Interview Date Filter:</ion-label>
                </ion-col>
                <ion-col>
                  <ion-button color="default" fill="outline" (click)="clearDate()" type="button" style="width: 95%">
                    Clear Date</ion-button>
                </ion-col>
              </ion-item-divider>
            </ion-row>
            <ion-item>
              <ion-col size-lg="5">
                <mat-label>Date from: </mat-label>
              </ion-col>
              <ion-col class="ion-text-right">
                <mat-datepicker #picker></mat-datepicker>
                <input (click)="picker.open()" readonly [min]="minDate" [max]="dateToday" formControlName="fromDate"
                  [matDatepicker]="picker" (dateInput)="onFromDateChange($event.value)">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              </ion-col>
            </ion-item>

            <ion-item>
              <ion-col size-lg="5">
                <mat-label>Date to: </mat-label>
              </ion-col>
              <ion-col class="ion-text-right">
                <mat-datepicker #picker2></mat-datepicker>
                <input (click)="picker2.open()" readonly [min]="fromDate ? fromDate : minDate" [max]="dateToday"
                  formControlName="toDate" [matDatepicker]="picker2">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              </ion-col>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
      <ion-row class="ion-justify-content-center">
        <ion-col col-6 class="log-buttons">
          <app-ghost-button color="medium" expand="block" (onClick)="closeFilter()">Cancel</app-ghost-button>
        </ion-col>
        <ion-col col-6 class="log-buttons">
          <ion-button expand="block" (click)="onFilterClick()">Filter</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>